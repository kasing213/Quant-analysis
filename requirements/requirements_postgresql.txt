# PostgreSQL-Enhanced Requirements for Quantitative Trading System
# Includes all original dependencies plus PostgreSQL integration

# === Core Data and Analysis (Original) ===
# Allow numpy 2.x for compatibility with modern packages
numpy>=1.26.0,<3.0.0
pandas>=2.2.0
scipy>=1.12.0
statsmodels>=0.14.0
yfinance>=0.2.0

# === Web Framework and Visualization (Original) ===
streamlit>=1.30.0
plotly>=5.0.0
requests>=2.31.0

# === Utility Libraries (Original) ===
python-dateutil==2.9.0.post0
pytz==2024.1

# === PostgreSQL Database Support ===
# Async PostgreSQL driver (preferred)
asyncpg>=0.29.0

# Sync PostgreSQL driver (for Streamlit compatibility)
psycopg2-binary>=2.9.9

# Connection pooling and advanced features
SQLAlchemy>=2.0.25
alembic>=1.13.1  # Database migrations

# === Enhanced Data Processing ===
# Note: decimal is a built-in Python module, no installation needed

# JSON handling for complex data structures
orjson>=3.10.0

# Data validation
pydantic>=2.9.0

# === Performance and Monitoring ===
# Memory profiling and monitoring
psutil==5.9.6

# Note: cProfile and timeit are built-in Python modules, no installation needed

# === Backtesting Framework (Enhanced) ===
backtrader==1.9.78.123
bt==0.2.9  # Additional backtesting framework

# === Technical Analysis ===
pandas-ta==0.4.71b0
# ta-lib==0.4.28  # Commented out - requires compilation, not available on all platforms

# === Risk Management and Portfolio Optimization ===
PyPortfolioOpt>=1.5.0
# quantlib - Commented out due to compilation requirements
# empyrical-reloaded==0.5.7  # Commented out - may have numpy compatibility issues

# === Machine Learning (Optional) ===
scikit-learn>=1.5.0
# tensorflow==2.15.0  # Uncomment if ML features needed
# torch==2.1.1       # Uncomment if PyTorch needed

# === API and Web Services ===
fastapi>=0.115.0  # For building APIs
uvicorn>=0.32.0   # ASGI server

# HTTP client
httpx>=0.28.0

# === Data Sources (Additional) ===
alpha-vantage==2.3.1  # Free tier available
# quandl==3.7.0        # Uncomment if needed
fredapi==0.5.1         # Federal Reserve data

# === Caching and Performance ===
redis>=5.2.0           # Redis for caching
cachetools>=5.5.0      # Memory caching utilities

# === Logging and Monitoring ===
structlog>=24.4.0      # Structured logging
prometheus-client>=0.21.0  # Metrics collection

# === Testing Framework ===
pytest>=8.3.0
pytest-asyncio>=0.24.0
pytest-mock>=3.14.0
pytest-benchmark>=5.1.0

# === Development Tools ===
black>=24.10.0         # Code formatting
isort>=5.13.0          # Import sorting
flake8>=7.1.0          # Linting
mypy>=1.13.0           # Type checking

# === Security ===
cryptography==46.0.3   # For encryption/SSL
python-dotenv==1.0.0   # Environment variable loading

# === Jupyter Support (Development) ===
jupyter>=1.1.0
ipykernel>=6.29.0
ipywidgets>=8.1.5

# === Data Visualization (Enhanced) ===
matplotlib>=3.9.0  # 3.9+ supports numpy 2.x
seaborn>=0.13.0
bokeh>=3.3.2

# === Documentation ===
# sphinx==7.2.6        # Uncomment for docs generation
# sphinx-rtd-theme==2.0.0

# === Workflow and Task Management ===
celery>=5.4.0          # Task queue (if needed)
# apache-airflow==2.7.3  # Workflow management (heavy install)

# === Data Export/Import ===
xlsxwriter>=3.2.0      # Excel export
openpyxl>=3.1.5        # Excel read/write

# === Time Series Analysis ===
arch>=7.2.0            # GARCH models
statsforecast>=2.0.0   # Time series forecasting

# === Alternative Data Sources ===
beautifulsoup4>=4.12.3 # Web scraping
lxml>=5.3.0            # XML/HTML parsing

# === Notification Services ===
python-telegram-bot>=21.7  # Telegram notifications
slack-sdk>=3.33.0          # Slack notifications

# === Configuration Management ===
pyyaml>=6.0.2          # YAML configuration files
# Note: configparser is a built-in Python module, no installation needed

# === Database Utilities ===
pgcli>=4.1.0           # PostgreSQL command line interface
sqlparse>=0.5.2        # SQL parsing utilities

# === Geographic/Economic Data ===
# geopandas==0.14.1    # Geographic data (heavy dependencies)
# worldbank==0.11.1    # World Bank data

# === Portfolio Analytics ===
# pyfolio-reloaded==0.9.5   # Portfolio analysis - commented out due to dependency conflicts
# zipline-reloaded==3.0.4   # Algorithmic trading - commented out due to dependency conflicts

# === Development Environment ===
python-decouple>=3.8   # Settings management
watchdog>=6.0.0        # File system monitoring

# Install Instructions:
# 1. Basic setup:
#    pip install -r requirements_postgresql.txt
#
# 2. With conda (recommended for ta-lib):
#    conda install -c conda-forge ta-lib
#    pip install -r requirements_postgresql.txt
#
# 3. Development setup:
#    pip install -r requirements_postgresql.txt
#    pip install pre-commit  # For git hooks
#
# 4. Production setup:
#    pip install --no-dev -r requirements_postgresql.txt
#
# Note: Some packages may require system dependencies:
# - ta-lib: requires compilation or conda
# - psycopg2: requires PostgreSQL development headers
# - Some ML packages require BLAS/LAPACK libraries